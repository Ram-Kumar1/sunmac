`INVOICE_STATUS`: 0 (Came from quotation (Generate PPI))
`INVOICE_STATUS`: 1 
    1. Advance amount received (Need to sent to Account/ Admin/ Production team)
    2. Donot show the record to Sales team
`INVOICE_STATUS`: 2
    1. Updated by Production team as Product complete STATUS
`INVOICE_STATUS`: 3
    1. Notefication need to sent to sales team
`INVOICE_STATUS`: 4
    1. dispatched/Invoice sent
    

QUOTATION STATUS : 1 (NEW)
QUOTATION STATUS : 0 (SENT)

SELECT 
SPI.DISPATCH_DATE, SPI.REFERENCE_NO, SPI.FOLLOWED_BY_PERSON, SPI.CUSTOMER_NAME, 
(SPI.TOTAL_AMOUNT - SPI.GST_AMOUNT) AS PRODUCT_VALUE,
(SPI.GST_AMOUNT / 2) AS CGST, (SPI.GST_AMOUNT / 2) AS SGST,
SPI.TOTAL_AMOUNT, (SPID.QUANTITY * PW.weight) AS WEIGHT
FROM sample_pi SPI, sample_pi_details SPID, product_weight PW, category C 
WHERE 1=1 
AND PW.product_id = C.PRODUCT_ID 
AND C.PRODUCT_NAME = SPID.PRODUCT 
AND PW.type = SPID.TYPE 
AND PW.size = SPID.SIZE 
AND PW.thickness = SPID.THICKNESS
AND SPI.SAMPLE_PI_ID = SPID.SAMPLE_PI_DETAIL_ID
AND SPI.DATE BETWEEN '$fromDate' AND '$toDate' 
AND SPI.INVOICE_STATUS = 4 
ORDER BY DATE DESC

SELECT 
TB.LAST_UPDATE_DATE, SPI.REFERENCE_NO, SPI.FOLLOWED_BY_PERSON, SPI.CUSTOMER_NAME, 
(SPI.TOTAL_AMOUNT - SPI.GST_AMOUNT) AS PRODUCT_VALUE, SPI.GST_AMOUNT, SPI.TOTAL_AMOUNT,
TB.TOTAL_AMOUNT AS PAID_AMOUNT, (SPI.TOTAL_AMOUNT - TB.BALANCE) AS AMOUNT_RECEIVED, TB.BALANCE,
CASE 
WHEN TB.BALANCE=0 THEN 'CLEARED'
ELSE 'PENDING'
END AS STATUS 
FROM sample_pi SPI, transaction T, transaction_balance TB
WHERE 1 = 1 
AND SPI.SAMPLE_PI_ID = T.SAMPLE_PI_ID
AND T.SAMPLE_PI_ID = TB.SAMPLE_PI_ID
AND SPI.SAMPLE_PI_ID = TB.SAMPLE_PI_ID
AND TB.LAST_UPDATE_DATE BETWEEN '2020-03-11' AND '2020-03-11'

SELECT SPI.FOLLOWED_BY_PERSON, SPI.CUSTOMER_NAME, SPI.TOTAL_AMOUNT
FROM sample_pi SPI
WHERE 1=1
AND SPI.DISPATCH_DATE BETWEEN '2020-03-01' AND '2020-04-30'
ORDER BY SPI.FOLLOWED_BY_PERSON